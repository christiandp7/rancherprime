
<div class="wrapper">
  <div class="home-slideshow">
    <div class="variable-width" data-slick='{dots: true, slidesToScroll: 1,autoplay:false,fade: {{ section.settings.slideshow_transition }},autoplaySpeed:{{ section.settings.slideshow_speed }}'>
      {% for block in section.blocks %}
      {% if block.type == 'style_1' %}
      <div class="slick-list slider_style_1 slider-{{ block.id }}-list"> 
        {% include 'slider-data' %}
        <style> 
          .slider_style_1 .slider-content { left:0; }
          .slider-{{ block.id }}-list .slide-offer-text span { color:{{ block.settings.offer_color }};font-weight:bold; }
          {% if block.settings.image_star != blank %} .slider-{{ block.id }}-list .slide-offer-text:before { content:"";width:45px;height:18px;background-image:url({{ block.settings.image_star | img_url: 'small' }});background-repeat:no-repeat;display:inline-block;vertical-align:middle;margin:0 0 5px;position:absolute;left:0;top:9px;} {% endif %} 
          {% if block.settings.image_star_2 != blank %} .slider-{{ block.id }}-list .slide-offer-text:after { content:"";width:45px;height:18px;background-image:url({{ block.settings.image_star_2 | img_url: 'small' }});background-repeat:no-repeat;display:inline-block;vertical-align:middle;margin:0 0 5px;position:absolute;right:0;top:9px;} {% endif %} 
          .slider-{{ block.id }}-list:before { left:0; }
          
          
          
          
          
          
          
          
          
          @media screen and (min-width: 320px) and (max-width: 767px) {

            {% if block.settings.mobile_bg_clr_use != blank %} .slider-{{ block.id }}-list:before { position:absolute;top:0;content:"";float:left;width:100%;height:100%;background:{{ block.settings.mobile_bg_clr | color_modify: 'alpha', 0.6 }};}{% endif %}
          }
        </style>
      </div>
      {% endif %}
      {% if block.type == 'style_2' %}
      <div class="slick-list slider_style_2 slider-{{ block.id }}-list">                
        {% include 'slider-data' %}
        <style> 
          .slider_style_2 .slider-content {right:0; }

          .slider-{{ block.id }}-list .slide-offer-text span { color:{{ block.settings.offer_color }};font-weight:bold; }
          {% if block.settings.image_star != blank %} .slider-{{ block.id }}-list .slide-offer-text:before { content:"";width:45px;height:18px;background-image:url({{ block.settings.image_star | img_url: 'small' }});background-repeat:no-repeat;display:inline-block;vertical-align:middle;margin:0 0 5px;position:absolute;left:0;top:9px;} {% endif %} 
          {% if block.settings.image_star_2 != blank %} .slider-{{ block.id }}-list .slide-offer-text:after { content:"";width:45px;height:18px;background-image:url({{ block.settings.image_star_2 | img_url: 'small' }});background-repeat:no-repeat;display:inline-block;vertical-align:middle;margin:0 0 5px;position:absolute;right:0;top:9px;} {% endif %} 
          .slider-{{ block.id }}-list:before { right:0; }

          @media screen and (min-width: 320px) and (max-width: 767px) {

            {% if block.settings.mobile_bg_clr_use != blank %} .slider-{{ block.id }}-list:before { position:absolute;top:0;content:"";float:left;width:100%;height:100%;background:{{ block.settings.mobile_bg_clr | color_modify: 'alpha', 0.6 }};}{% endif %}
          }
        </style>
      </div>
      {% endif %}
      {% if block.type == 'style_3' %}
      <div class="slick-list slider_style_3 slider-{{ block.id }}-list">                
        {% include 'slider-data' %}
        <style> 
          .slider_style_3 .slider-content { text-align:center;left:0;right:0; }
          .slider-{{ block.id }}-list .slide-offer-text span { color:{{ block.settings.offer_color }};font-weight:bold; }

          {% if block.settings.image_star != blank %} .slider-{{ block.id }}-list .slide-offer-text:before { content:"";width:45px;height:18px;background-image:url({{ block.settings.image_star | img_url: 'small' }});background-repeat:no-repeat;display:inline-block;vertical-align:middle;margin:0 0 5px;position:absolute;left:0;top:9px;} {% endif %} 
          {% if block.settings.image_star_2 != blank %} .slider-{{ block.id }}-list .slide-offer-text:after { content:"";width:45px;height:18px;background-image:url({{ block.settings.image_star_2 | img_url: 'small' }});background-repeat:no-repeat;display:inline-block;vertical-align:middle;margin:0 0 5px;position:absolute;right:0;top:9px;} {% endif %} 
          .slider-{{ block.id }}-list:before { left:0;right:0;-webkit-transform: skew(-10deg); -moz-transform: skew(-10deg);  -o-transform: skew(-10deg); }

          @media screen and (min-width: 320px) and (max-width: 767px) {

            {% if block.settings.mobile_bg_clr_use != blank %} .slider-{{ block.id }}-list:before { position:absolute;top:0;content:"";float:left;width:100%;height:100%;background:{{ block.settings.mobile_bg_clr | color_modify: 'alpha', 0.6 }};}{% endif %}
          }
        </style>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

{% if section.settings.slideshow_margin_bottom %}
   <div class="dt-sc-hr-invisible-large"></div>
{% endif %}

<script>  
  $(document).on('ready', function() {
    $('.variable-width').slick({
      dots: true,
      slidesToScroll: 1,
      autoplay:false,
      fade: {{ section.settings.slideshow_transition }},
      autoplaySpeed:{{ section.settings.slideshow_speed }},
      afterChange: function(slick, currentSlide){
      console.log(currentSlide);
    }
                               });   
  })
</script>




<style>


  
  
  
  

  {% for block in section.blocks %}

  .slider-{{ block.id }}-list .btn { border:1px solid {{ block.settings.button_bg }};background-color: {{ block.settings.button_bg }};color:{{ block.settings.button_color }}; }

  {% if block.settings.subheading_bg_use %} .slider-{{ block.id }}-list:before { width:40%;height:100%;content:"";float:left; background:{{ block.settings.subheading_bgcolor | color_modify:'alpha',0.7 }}; position:absolute;margin:auto;} {% endif %}

  .slider-{{ block.id }}-list .btn:hover { border-color: {{ block.settings.button_bg }};background-color:{{ block.settings.button_bg_hover }};color:{{ block.settings.button_hover_color }}; }
  
  
  @media screen and (min-width: 320px) and (max-width:1280px) {.slider-{{ block.id }}-list:before{width:60%;}}
  
  {% endfor %}
</style>



{% schema %}
{
  "name":"Slideshow 2 Our Ranchers",
  "class":"index-section index-section--flush",
  "max_blocks":10,
  "settings":[
     {
        "type":"select",
        "id":"slideshow_speed",
        "label":"Change slides every",
        "options":[
           {
              "value":"1000",
              "label":"1 seconds"
           },
           {
              "value":"2000",
              "label":"2 seconds"
           },
           {
              "value":"3000",
              "label":"3 seconds"
           },
           {
              "value":"4000",
              "label":"4 seconds"
           },
           {
              "value":"5000",
              "label":"5 seconds"
           },
           {
              "value":"6000",
              "label":"6 seconds"
           },
           {
              "value":"7000",
              "label":"7 seconds"
           },
           {
              "value":"8000",
              "label":"8 seconds"
           },
           {
              "value":"9000",
              "label":"9 seconds"
           },
           {
              "value":"10000",
              "label":"10 seconds"
           }
        ],
        "default":"5000"
     },
     {
        "type":"select",
        "id":"slideshow_transition",
        "label":"Slideshow transition effect",
        "options":[
           {
              "value":"false",
              "label":"Slide"
           },
           {
              "value":"true",
              "label":"Fade"
           }
        ],
        "default":"true"
     },
     {
        "type":"color",
        "id":"navigation_color",
        "label":"Navigation color",
        "default":"#fff",
        "info":"Default Value: #fff"
     },
     {
        "type": "checkbox",
        "id": "slideshow_margin_bottom",
        "label": "Slideshow margin bottom",
        "default": true
     },
     {
        "type":"paragraph",
        "content":"IMPORTANT: For best results, Upload image : 1920px x 740px recommended. Try to keep your slideshow images the same size. Style 1 : 'Left' , Style 2 : 'Right' , Style 3 : 'Center'"
     }
  ],
  "blocks":[
     {
        "type":"style_1",
        "name":"style_1",
        "settings":[
           {
              "type":"select",
              "id":"vertical_alignment",
              "options":[
                 {
                    "value":"top",
                    "label":"Top"
                 },
                 {
                    "value":"middle",
                    "label":"Middle"
                 },
                 {
                    "value":"bottom",
                    "label":"Bottom"
                 }
              ],
              "label":"Vertical alignment"
           },
           {
              "type":"image_picker",
              "id":"image",
              "label":"Image"
           },
           {
              "type":"image_picker",
              "id":"mobile_image",
              "label":"Mobile Image",
              "info":"768x950 recommended"
           },
           {
              "type":"checkbox",
              "id":"mobile_bg_clr_use",
              "label":"Mobile Bg Use?",
              "default":true
           },
           {
              "type":"color",
              "id":"mobile_bg_clr",
              "label":"Mobile Bg Color",
              "default":"#000"
           },
           {
              "type":"checkbox",
              "id":"subheading_bg_use",
              "label":"Slider Content Bg?",
              "default":true
           },
           {
              "type":"color",
              "id":"subheading_bgcolor",
              "label":"Slider Content Bg Color",
              "default":"#fff",
              "info":"Default Value: #fff"
           },
           {
              "type":"image_picker",
              "id":"logo_img",
              "label":"Icon Image"
           },
           {
              "type":"header",
              "content":"Overlay content"
           },
           {
              "type":"select",
              "id":"container_alignment",
              "label":"Container Alignment",
              "options":[
                 {
                    "value":"left",
                    "label":"Left"
                 },
                 {
                    "value":"center",
                    "label":"Center"
                 },
                 {
                    "value":"right",
                    "label":"Right"
                 }
              ]
           },
           {
              "type":"select",
              "id":"text_alignment",
              "label":"Text Alignment",
              "options":[
                 {
                    "value":"left",
                    "label":"Left"
                 },
                 {
                    "value":"center",
                    "label":"Center"
                 },
                 {
                    "value":"right",
                    "label":"Right"
                 }
              ]
           },
           {
              "type":"text",
              "id":"title",
              "label":"Title 1"
           },
           {
              "type":"text",
              "id":"offer",
              "label":"Title 2"
           },
           {
              "type":"text",
              "id":"offer_size",
              "label":"Text Size"
           },
           {
              "type":"color",
              "id":"offer_color",
              "label":"Text Color",
              "default":"#000",
              "info":"Default Value: #000"
           },
           {
              "type":"text",
              "id":"letter_spacing",
              "label":"Letter Spacing"
           },
           {
              "type":"color",
              "id":"heading_color",
              "label":"Heading Color",
              "default":"#000",
              "info":"Default Value: #000"
           },
           {
              "type":"text",
              "id":"heading_size",
              "label":"Heading Font Size",
              "default":"40",
              "info":"Default Value: 40"
           },
           {
              "type":"text",
              "id":"offer_text",
              "label":"Desc Text"
           },
           {
              "type":"color",
              "id":"offer_text_color",
              "label":"Desc Text Color",
              "default":"#000",
              "info":"Default Value: #000"
           },
           {
              "type":"text",
              "id":"offer_text_size",
              "label":"Desc Text Size",
              "default":"18",
              "info":"Default Value: 18"
           },
           {
              "type":"image_picker",
              "id":"image_star",
              "label":"Icon Image"
           },
           {
              "type":"image_picker",
              "id":"image_star_2",
              "label":"Icon Image"
           },
           {
              "type":"text",
              "id":"button",
              "label":"Slide Button"
           },
           {
              "type":"url",
              "id":"link",
              "label":"Slide link"
           },
           {
              "type":"color",
              "id":"button_bg",
              "label":"Slide Button BG",
              "default":"#000"
           },
           {
              "type":"color",
              "id":"button_color",
              "label":"Slide Button Color",
              "default":"#fff"
           },
           {
              "type":"color",
              "id":"button_bg_hover",
              "label":"Slide Hover Button Bg",
              "default":"#000"
           },
           {
              "type":"color",
              "id":"button_hover_color",
              "label":"Slide Hover Button Color",
              "default":"#fff"
           }
        ]
     },
     {
        "type":"style_2",
        "name":"style_2",
        "settings":[
           {
              "type":"image_picker",
              "id":"image",
              "label":"Image"
           },
           {
              "type":"image_picker",
              "id":"mobile_image",
              "label":"Mobile Image",
              "info":"768x950 recommended"
           },
           {
              "type":"checkbox",
              "id":"mobile_bg_clr_use",
              "label":"Mobile Bg Use?",
              "default":true
           },
           {
              "type":"color",
              "id":"mobile_bg_clr",
              "label":"Mobile Bg Color",
              "default":"#000"
           },
           {
              "type":"checkbox",
              "id":"subheading_bg_use",
              "label":"Slider Content Bg?",
              "default":true
           },
           {
              "type":"color",
              "id":"subheading_bgcolor",
              "label":"Slider Content Bg Color",
              "default":"#fff",
              "info":"Default Value: #fff"
           },
           {
              "type":"image_picker",
              "id":"logo_img",
              "label":"Icon Image"
           },
           {
             "type": "header",
             "content": "Overlay content"
           },
           {
              "type":"select",
              "id":"container_alignment",
              "label":"Container Alignment",
              "options":[
                 {
                    "value":"left",
                    "label":"Left"
                 },
                 {
                    "value":"center",
                    "label":"Center"
                 },
                 {
                    "value":"right",
                    "label":"Right"
                 }
              ]
           },
           {
              "type":"select",
              "id":"text_alignment",
              "label":"Text Alignment",
              "options":[
                 {
                    "value":"left",
                    "label":"Left"
                 },
                 {
                    "value":"center",
                    "label":"Center"
                 },
                 {
                    "value":"right",
                    "label":"Right"
                 }
              ]
           },
           {
              "type":"text",
              "id":"title",
              "label":"Title 1"
           },
           {
              "type":"text",
              "id":"offer_size",
              "label":"Text Size"
           },
           {
              "type":"color",
              "id":"offer_color",
              "label":"Text Color",
              "default":"#000",
              "info":"Default Value: #000"
           },
           {
              "type":"text",
              "id":"offer",
              "label":"Letter Spacing"
           },
           {
              "type":"color",
              "id":"heading_color",
              "label":"Heading Color",
              "default":"#000",
              "info":"Default Value: #000"
           },
           {
              "type":"text",
              "id":"heading_size",
              "label":"Heading Font Size",
              "default":"40",
              "info":"Default Value: 40"
           },
           {
              "type":"text",
              "id":"letter_spacing_2",
              "label":"Letter Spacing"
           },
           {
              "type":"text",
              "id":"offer_text",
              "label":"Desc Text"
           },
           {
              "type":"color",
              "id":"offer_text_color",
              "label":"Desc Text Color",
              "default":"#000",
              "info":"Default Value: #000"
           },
           {
              "type":"text",
              "id":"offer_text_size",
              "label":"Desc Text Size",
              "default":"18",
              "info":"Default Value: 18"
           },
           {
              "type":"image_picker",
              "id":"image_star",
              "label":"Icon Image"
           },
           {
              "type":"image_picker",
              "id":"image_star_2",
              "label":"Icon Image"
           },
           {
              "type":"text",
              "id":"button",
              "label":"Slide Button"
           },
           {
              "type":"url",
              "id":"link",
              "label":"Slide link"
           },
           {
              "type":"color",
              "id":"button_bg",
              "label":"Slide Button BG",
              "default":"#000"
           },
           {
              "type":"color",
              "id":"button_color",
              "label":"Slide Button Color",
              "default":"#fff"
           },
           {
              "type":"color",
              "id":"button_bg_hover",
              "label":"Slide Hover Button Bg",
              "default":"#000"
           },
           {
              "type":"color",
              "id":"button_hover_color",
              "label":"Slide Hover Button Color",
              "default":"#fff"
           }
        ]
     },
     {
        "type":"style_3",
        "name":"style_3",
        "settings":[
           {
              "type":"image_picker",
              "id":"image",
              "label":"Image"
           },
           {
              "type":"image_picker",
              "id":"mobile_image",
              "label":"Mobile Image",
              "info":"768x950 recommended"
           },
           {
              "type":"checkbox",
              "id":"mobile_bg_clr_use",
              "label":"Mobile Bg Use?",
              "default":true
           },
           {
              "type":"color",
              "id":"mobile_bg_clr",
              "label":"Mobile Bg Color",
              "default":"#000"
           },
           {
              "type":"checkbox",
              "id":"subheading_bg_use",
              "label":"Slider Content Bg?",
              "default":true
           },
           {
              "type":"color",
              "id":"subheading_bgcolor",
              "label":"Slider Content Bg Color",
              "default":"#fff",
              "info":"Default Value: #fff"
           },
           {
              "type":"image_picker",
              "id":"logo_img",
              "label":"Icon Image"
           },
           {
             "type": "header",
             "content": "Overlay content"
           },
           {
              "type":"select",
              "id":"container_alignment",
              "label":"Container Alignment",
              "options":[
                 {
                    "value":"left",
                    "label":"Left"
                 },
                 {
                    "value":"center",
                    "label":"Center"
                 },
                 {
                    "value":"right",
                    "label":"Right"
                 }
              ]
           },
           {
              "type":"select",
              "id":"text_alignment",
              "label":"Text Alignment",
              "options":[
                 {
                    "value":"left",
                    "label":"Left"
                 },
                 {
                    "value":"center",
                    "label":"Center"
                 },
                 {
                    "value":"right",
                    "label":"Right"
                 }
              ]
           },
           {
              "type":"text",
              "id":"title",
              "label":"Title 1"
           },
           {
              "type":"text",
              "id":"offer",
              "label":"Title 2"
           },
           {
              "type":"text",
              "id":"offer_size",
              "label":"Text Size"
           },
           {
              "type":"color",
              "id":"offer_color",
              "label":"Text Color",
              "default":"#000",
              "info":"Default Value: #000"
           },
           {
              "type":"text",
              "id":"letter_spacing",
              "label":"Letter Spacing"
           },
           {
              "type":"color",
              "id":"heading_color",
              "label":"Heading Color",
              "default":"#000",
              "info":"Default Value: #000"
           },
           {
              "type":"text",
              "id":"heading_size",
              "label":"Heading Font Size",
              "default":"40",
              "info":"Default Value: 40"
           },
           {
              "type":"text",
              "id":"offer_text",
              "label":"Desc Text"
           },
           {
              "type":"color",
              "id":"offer_text_color",
              "label":"Desc Text Color",
              "default":"#000",
              "info":"Default Value: #000"
           },
           {
              "type":"text",
              "id":"offer_text_size",
              "label":"Desc Text Size",
              "default":"18",
              "info":"Default Value: 18"
           },
           {
              "type":"image_picker",
              "id":"image_star",
              "label":"Icon Image"
           },
           {
              "type":"image_picker",
              "id":"image_star_2",
              "label":"Icon Image"
           },
           {
              "type":"text",
              "id":"button",
              "label":"Slide Button"
           },
           {
              "type":"url",
              "id":"link",
              "label":"Slide link"
           },
           {
              "type":"color",
              "id":"button_bg",
              "label":"Slide Button BG",
              "default":"#000"
           },
           {
              "type":"color",
              "id":"button_color",
              "label":"Slide Button Color",
              "default":"#fff"
           },
           {
              "type":"color",
              "id":"button_bg_hover",
              "label":"Slide Hover Button Bg",
              "default":"#000"
           },
           {
              "type":"color",
              "id":"button_hover_color",
              "label":"Slide Hover Button Color",
              "default":"#fff"
           }
        ]
     }
  ]
}
{% endschema %}


<style>
  .home-slideshow  .slick-arrow:before{ color: {{ section.settings.navigation_color }}; }  
</style>

{% javascript %}
function process_slick_event(evt) {
var _slick = $( "#" +evt.target.id + " .home-slideshow .variable-width");
if( _slick.length )
{
switch ( evt.originalEvent.type ) {
case "shopify:section:load" : 
console.log('Load ' + _slick.attr("id"));
_slick.slick (
{
dots: true,
slidesToScroll: 1,

autoplay: _slick.data('slick').autoplay,
autoplaySpeed: _slick.data('slick').autoplaySpeed
}
);
break; 
case "shopify:section:unload" :
console.log('Unload ' + _slick.attr("id"));
_slick.slick('unslick');
break;

} 
}
}

$(document)
.on( 'shopify:section:load', process_slick_event )
.on( 'shopify:section:unload', process_slick_event )
;

{% endjavascript %}